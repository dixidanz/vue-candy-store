(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5e6de54f"],{"0c81":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"order"},[a("table",{staticClass:"table mt-4"},[e._m(0),a("tbody",e._l(e.orders,function(t){return a("tr",{key:t.id},[a("td",[e._v(e._s(t.id))]),a("td",[e._v(e._s(e._f("timestamp")(t.create_at)))]),a("td",[e._v(e._s(t.user.name))]),a("td",{staticClass:"text-right"},[e._v(e._s(e._f("currency")(t.total)))]),a("td",[t.is_paid?a("span",{staticClass:"text-success"},[e._v("已付款")]):a("span",{staticClass:"text-danger"},[e._v("未付款")])]),a("td",[a("button",{staticClass:"btn btn-outline-primary btn-sm mr-1",on:{click:function(a){e.openUpModal(t)}}},[e._v("\r\n            編輯\r\n          ")])])])}))]),a("Pagination",{attrs:{pagination:e.pagination},on:{"update-page":e.getOrders}}),a("div",{staticClass:"modal fade",attrs:{id:"orderModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[e._m(1),a("div",{staticClass:"modal-body"},[a("div",{staticClass:"form-group"},[a("label",[e._v("訂單編號")]),a("span",{staticClass:"ml-4"},[e._v(e._s(e.tempOrder.id))])]),a("div",{staticClass:"form-group"},[a("label",[e._v("訂單日期")]),a("span",{staticClass:"ml-4"},[e._v(e._s(e._f("timestamp")(e.tempOrder.create_at)))])]),a("div",{staticClass:"form-group"},[a("label",[e._v("總金額")]),a("span",{staticClass:"ml-4"},[e._v(e._s(e._f("currency")(e.tempOrder.total)))])]),a("div",{staticClass:"form-group"},[a("label",[e._v("留言")]),a("span",{staticClass:"ml-4"},[e._v(e._s(e.tempOrder.message))])]),a("div",{staticClass:"form-group"},[a("label",[e._v("商品：")]),e._l(e.tempOrder.products,function(t){return a("div",{staticClass:"my-auto"},[e._v("\r\n              "+e._s(t.product.title)+" "+e._s(t.qty)+"\r\n              "+e._s(t.product.unit)+"\r\n            ")])})],2),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"name"}},[e._v("購買姓名")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.tempOrderUser.name,expression:"tempOrderUser.name"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",class:{"is-invalid":e.errors.has("name")},attrs:{type:"text",id:"name",name:"name",placeholder:"請輸入購買姓名"},domProps:{value:e.tempOrderUser.name},on:{input:function(t){t.target.composing||e.$set(e.tempOrderUser,"name",t.target.value)}}}),e.errors.has("name")?a("span",{staticClass:"text-danger"},[e._v("必填")]):e._e()]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"email"}},[e._v("信箱")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.tempOrderUser.email,expression:"tempOrderUser.email"},{name:"validate",rawName:"v-validate",value:"required|email",expression:"'required|email'"}],staticClass:"form-control",class:{"is-invalid":e.errors.has("email")},attrs:{type:"text",id:"email",name:"email",placeholder:"請輸入信箱"},domProps:{value:e.tempOrderUser.email},on:{input:function(t){t.target.composing||e.$set(e.tempOrderUser,"email",t.target.value)}}}),e.errors.has("email")?a("span",{staticClass:"text-danger"},[e._v("{{\r\n              errors.first('email')\r\n            }}")]):e._e()]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"tel"}},[e._v("電話")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.tempOrderUser.tel,expression:"tempOrderUser.tel"},{name:"validate",rawName:"v-validate",value:{required:!0,regex:/^[09]{2}[0-9]{8}$/},expression:"{required:true,regex: /^[09]{2}[0-9]{8}$/}"}],staticClass:"form-control",class:{"is-invalid":e.errors.has("phone")},attrs:{type:"text",id:"tel",name:"phone",placeholder:"請輸入電話"},domProps:{value:e.tempOrderUser.tel},on:{input:function(t){t.target.composing||e.$set(e.tempOrderUser,"tel",t.target.value)}}}),e.errors.has("phone")?a("span",{staticClass:"text-danger"},[e._v("請輸入十碼手機號碼")]):e._e()]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"address"}},[e._v("地址")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.tempOrderUser.address,expression:"tempOrderUser.address"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",class:{"is-invalid":e.errors.has("address")},attrs:{type:"text",id:"address",name:"address",placeholder:"請輸入地址"},domProps:{value:e.tempOrderUser.address},on:{input:function(t){t.target.composing||e.$set(e.tempOrderUser,"address",t.target.value)}}}),e.errors.has("address")?a("span",{staticClass:"text-danger"},[e._v("必填")]):e._e()]),a("div",{staticClass:"form-group"},[a("div",{staticClass:"form-check"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.tempOrder.is_paid,expression:"tempOrder.is_paid"}],staticClass:"form-check-input",attrs:{type:"checkbox",id:"is_enabled"},domProps:{checked:Array.isArray(e.tempOrder.is_paid)?e._i(e.tempOrder.is_paid,null)>-1:e.tempOrder.is_paid},on:{change:function(t){var a=e.tempOrder.is_paid,r=t.target,s=!!r.checked;if(Array.isArray(a)){var i=null,n=e._i(a,i);r.checked?n<0&&e.$set(e.tempOrder,"is_paid",a.concat([i])):n>-1&&e.$set(e.tempOrder,"is_paid",a.slice(0,n).concat(a.slice(n+1)))}else e.$set(e.tempOrder,"is_paid",s)}}}),a("label",{staticClass:"form-check-label",attrs:{for:"is_enabled"}},[e._v("\r\n                是否付款\r\n              ")])])])]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[e._v("\r\n            取消\r\n          ")]),a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:e.updateOrder}},[e._v("\r\n            確認\r\n          ")])])])])])],1)},s=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("thead",[a("th",[e._v("訂單編號")]),a("th",[e._v("訂單日期")]),a("th",[e._v("購買姓名")]),a("th",[e._v("總金額")]),a("th",[e._v("是否付款")]),a("th",[e._v("編輯")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[e._v("編輯訂單")]),a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[e._v("×")])])])}],i=a("be94"),n=a("1157"),l=a.n(n),d=a("2f62"),o=a("333d"),c={name:"order",components:{Pagination:o["a"]},data:function(){return{tempOrder:{},tempOrderUser:{}}},computed:Object(i["a"])({},Object(d["b"])("AdminOrderModules",["orders","pagination"])),methods:{getOrders:function(e){this.$store.dispatch("AdminOrderModules/ORDER_GET",e)},updateOrder:function(){var e=this;this.$validator.validate().then(function(t){if(!t)return!1;e.tempOrder.user=e.tempOrderUser,e.$store.dispatch("AdminOrderModules/ORDER_EDIT",e.tempOrder),l()("#orderModal").modal("hide")})},openUpModal:function(e){this.tempOrder=Object(i["a"])({},e),this.tempOrderUser=Object(i["a"])({},e.user),l()("#orderModal").modal("show")}},mounted:function(){this.$store.dispatch("AdminOrderModules/ORDER_GET")}},p=c,m=(a("7bf6"),a("2877")),u=Object(m["a"])(p,r,s,!1,null,"5d93f49a",null);u.options.__file="index.vue";t["default"]=u.exports},"333d":function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pagination"},[e.pagination.total_pages>0?a("nav",{attrs:{"aria-label":"Page navigation example"}},[a("ul",{staticClass:"pagination"},[a("li",{staticClass:"page-item",class:{disabled:!e.pagination.has_pre}},[a("a",{staticClass:"page-link",attrs:{href:"javascript:;","aria-label":"Previous"},on:{click:function(t){e.updatePage(e.pagination.current_page-1)}}},[a("span",{attrs:{"aria-hidden":"true"}},[e._v("«")]),a("span",{staticClass:"sr-only"},[e._v("Previous")])])]),e._l(e.pagination.total_pages,function(t){return a("li",{staticClass:"page-item",class:{active:e.pagination.current_page===t}},[a("a",{staticClass:"page-link",attrs:{href:"javascript:;"},on:{click:function(a){e.updatePage(t)}}},[e._v(e._s(t))])])}),a("li",{staticClass:"page-item",class:{disabled:!e.pagination.has_next}},[a("a",{staticClass:"page-link",attrs:{href:"javascript:;","aria-label":"Next"},on:{click:function(t){e.updatePage(e.pagination.current_page+1)}}},[a("span",{attrs:{"aria-hidden":"true"}},[e._v("»")]),a("span",{staticClass:"sr-only"},[e._v("Next")])])])],2)]):e._e()])},s=[],i={name:"pagination",props:{pagination:{type:Object,required:!0}},methods:{updatePage:function(e){this.$emit("update-page",e)}}},n=i,l=(a("d47e"),a("2877")),d=Object(l["a"])(n,r,s,!1,null,"4618a412",null);d.options.__file="index.vue";t["a"]=d.exports},"7bf6":function(e,t,a){"use strict";var r=a("e11b"),s=a.n(r);s.a},be94:function(e,t,a){"use strict";function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function s(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{},s=Object.keys(a);"function"===typeof Object.getOwnPropertySymbols&&(s=s.concat(Object.getOwnPropertySymbols(a).filter(function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable}))),s.forEach(function(t){r(e,t,a[t])})}return e}a.d(t,"a",function(){return s})},d47e:function(e,t,a){"use strict";var r=a("e0e4"),s=a.n(r);s.a},e0e4:function(e,t,a){},e11b:function(e,t,a){}}]);
//# sourceMappingURL=chunk-5e6de54f.dba31f69.js.map